import{j as e,m as p}from"./framer-ClpLoJbl.js";import{r as a}from"./vendor-CSLgDR2_.js";import{s as u}from"./index-Bn3Kbo31.js";import{i as h,d as f,_ as g,aF as j,ay as b}from"./icons-BvlAoJhe.js";import"./supabase-CDGuCRB-.js";const L=()=>{const[o,d]=a.useState([]),[c,r]=a.useState(!0),[l,x]=a.useState(""),m=async()=>{r(!0);const{data:s,error:t}=await u.from("users").select("*");t||d(s||[]),r(!1)};a.useEffect(()=>{m()},[]);const i=o.filter(s=>{var t,n;return((t=s.email)==null?void 0:t.toLowerCase().includes(l.toLowerCase()))||((n=s.full_name)==null?void 0:n.toLowerCase().includes(l.toLowerCase()))});return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in duration-500 pb-24",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Customer Database"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"View and manage registered users."})]}),e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(h,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:"Search customers...",value:l,onChange:s=>x(s.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-sm font-medium focus:ring-2 focus:ring-fario-purple/20"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>{var t;return e.jsxs(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white p-6 rounded-[2rem] border border-slate-100 shadow-sm hover:shadow-md transition-all",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-100 flex items-center justify-center text-xl font-black text-slate-500",children:(t=s.email)==null?void 0:t[0].toUpperCase()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:s.full_name||"Guest User"}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs",children:[e.jsx(f,{size:12}),e.jsx("span",{children:s.email})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[e.jsx(g,{size:16,className:"text-fario-purple"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wide",children:"Last Active"}),e.jsx("p",{className:"text-xs font-bold text-slate-900",children:new Date(s.last_sign_in_at||Date.now()).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-xl",children:[e.jsx(j,{size:16,className:"text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wide",children:"Joined"}),e.jsx("p",{className:"text-xs font-bold text-slate-900",children:new Date(s.created_at||Date.now()).toLocaleDateString()})]})]})]}),e.jsx("button",{className:"w-full mt-6 py-2 rounded-xl border border-slate-200 text-xs font-bold text-slate-600 hover:bg-slate-50 transition-colors",children:"View Order History"})]},s.id)})}),i.length===0&&!c&&e.jsxs("div",{className:"p-12 text-center bg-white rounded-[2rem] border border-slate-100",children:[e.jsx(b,{size:48,className:"mx-auto text-slate-200 mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"No customers found"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Customers will appear here once they sign up."})]})]})};export{L as default};
