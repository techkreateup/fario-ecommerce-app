const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DKUMvhNP.js","assets/framer-ClpLoJbl.js","assets/vendor-CSLgDR2_.js","assets/icons-D8yHJv9q.js","assets/supabase-CDGuCRB-.js","assets/index-BRjPeWzA.css"])))=>i.map(i=>d[i]);
import{_ as p}from"./index-DKUMvhNP.js";import{j as e,A as v,m as u}from"./framer-ClpLoJbl.js";import{r as c}from"./vendor-CSLgDR2_.js";import{ac as j,aa as y,az as w,ax as N,a7 as k}from"./icons-D8yHJv9q.js";import"./supabase-CDGuCRB-.js";const C=[{id:"1",title:"Monsoon Sale Launch",type:"Promotional",emailsCount:2450,duration:"4 Days",status:"Running",stats:{delivered:2400,opened:1200,clicked:450,converted:85}},{id:"2",title:"Back to College Onboarding",type:"Transactional",emailsCount:120,duration:"Ongoing",status:"Running",stats:{delivered:118,opened:95,clicked:40,converted:12}}],R=()=>{const[n,r]=c.useState(C),[_,A]=c.useState("active"),[h,d]=c.useState(!1),[l,x]=c.useState({title:"",type:"Promotional"});c.useEffect(()=>{b()},[]);const b=async()=>{try{const{supabase:t}=await p(async()=>{const{supabase:i}=await import("./index-DKUMvhNP.js").then(s=>s.c);return{supabase:i}},__vite__mapDeps([0,1,2,3,4,5])),{data:a}=await t.from("settings").select("value").eq("key","marketing_campaigns").single();a!=null&&a.value&&r(a.value)}catch{console.log("No campaigns found in settings, using default")}},g=async t=>{t.preventDefault();const i=[{id:Date.now().toString(),title:l.title,type:l.type,emailsCount:0,duration:"Just Started",status:"Draft",stats:{delivered:0,opened:0,clicked:0,converted:0}},...n];r(i),d(!1),x({title:"",type:"Promotional"});try{const{supabase:s}=await p(async()=>{const{supabase:m}=await import("./index-DKUMvhNP.js").then(f=>f.c);return{supabase:m}},__vite__mapDeps([0,1,2,3,4,5]));await s.from("settings").upsert({key:"marketing_campaigns",value:i})}catch(s){console.error("Failed to save campaign",s)}};return e.jsxs("div",{className:"min-h-screen bg-[#f8fafc] p-6 font-sans text-slate-800",children:[e.jsxs("header",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-[#1f2937]",children:"Marketing Hub"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Deploy campaigns and monitor customer engagement"})]}),e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#8b5cf6] hover:bg-[#7c3aed] text-white rounded-lg text-sm font-bold transition-colors shadow-lg shadow-violet-200",children:[e.jsx(j,{size:18})," Create Campaign"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-violet-50 rounded-xl flex items-center justify-center text-violet-600",children:e.jsx(y,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Active Reach"}),e.jsx("h3",{className:"text-xl font-black",children:"45,200"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-50 rounded-xl flex items-center justify-center text-emerald-600",children:e.jsx(w,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"New Subs"}),e.jsx("h3",{className:"text-xl font-black",children:"+1.2k"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-600",children:e.jsx(N,{size:24})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Avg Conv"}),e.jsx("h3",{className:"text-xl font-black",children:"3.4%"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:e.jsx("h3",{className:"font-black text-xs uppercase tracking-widest text-slate-600",children:"Active Regimen"})}),e.jsx("div",{className:"divide-y divide-slate-100",children:n.map(t=>e.jsx("div",{className:"p-6 hover:bg-slate-50/50 transition-colors",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-6",children:[e.jsxs("div",{className:"min-w-[280px]",children:[e.jsx("h4",{className:"font-bold text-slate-900 text-base mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-[9px] font-black uppercase text-slate-500 rounded",children:t.type}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:t.duration})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-4",children:[e.jsx(o,{label:"Sent",value:t.stats.delivered}),e.jsx(o,{label:"Open",value:t.stats.opened}),e.jsx(o,{label:"Click",value:t.stats.clicked}),e.jsx(o,{label:"Conv",value:t.stats.converted})]}),e.jsx("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${t.status==="Running"?"bg-emerald-50 text-emerald-600":"bg-slate-100 text-slate-500"}`,children:t.status}),e.jsx("button",{onClick:async()=>{if(!confirm("Delete this campaign?"))return;const a=n.filter(s=>s.id!==t.id);r(a);const{supabase:i}=await p(async()=>{const{supabase:s}=await import("./index-DKUMvhNP.js").then(m=>m.c);return{supabase:s}},__vite__mapDeps([0,1,2,3,4,5]));await i.from("settings").update({value:a}).eq("key","marketing_campaigns")},className:"p-2 hover:bg-slate-100 text-slate-400 hover:text-red-500 rounded-lg transition-colors",children:e.jsx(k,{size:16})})]})},t.id))})]}),e.jsx(v,{children:h&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(u.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>d(!1),className:"absolute inset-0 bg-slate-900/40 backdrop-blur-sm"}),e.jsxs(u.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-white rounded-3xl w-full max-w-md p-8 relative z-10 shadow-2xl",children:[e.jsx("h3",{className:"text-xl font-black mb-6 italic uppercase tracking-tighter",children:"Initiate Campaign"}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Campaign Title"}),e.jsx("input",{required:!0,type:"text",value:l.title,onChange:t=>x({...l,title:t.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold outline-none focus:border-violet-500",placeholder:"e.g. Summer Blast 2026"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black uppercase tracking-widest text-slate-400 mb-2",children:"Engage Type"}),e.jsxs("select",{value:l.type,onChange:t=>x({...l,type:t.target.value}),className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 text-sm font-bold outline-none",children:[e.jsx("option",{children:"Promotional"}),e.jsx("option",{children:"Transactional"}),e.jsx("option",{children:"Educational"})]})]}),e.jsx("button",{type:"submit",className:"w-full py-4 bg-violet-600 text-white rounded-xl font-black uppercase tracking-widest text-xs mt-4 shadow-lg shadow-violet-200",children:"Deploy Assets"})]})]})]})})]})},o=({label:n,value:r})=>e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-black mb-0.5",children:r}),e.jsx("p",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:n})]});export{R as default};
