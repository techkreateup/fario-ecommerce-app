import{m as C,j as e,A}from"./framer-ClpLoJbl.js";import{r as o}from"./vendor-CSLgDR2_.js";import{a as U,A as f,d as z}from"./index-CsRHpIul.js";import{X as K,aX as L,aY as P,aB as B,aZ as D,q as I,e as R,a2 as Q}from"./icons-D8yHJv9q.js";const E=({isOpen:g,onClose:c,productToEdit:l})=>{const{addProduct:h,updateProduct:y}=U(),[d,j]=o.useState(!1),[i,x]=o.useState(""),v=["Black","Grey","White","Lime","Purple","Blue"],k=["UK 3","UK 4","UK 5","UK 6","UK 7","UK 8","UK 9","OS","Small","Medium","Large"],[s,r]=o.useState({name:"",category:"Shoes",price:0,inStock:!0,image:f.products.shoe1,colors:["Black"],sizes:["UK 7"],stockQuantity:0});o.useEffect(()=>{r(l?{...l,colors:l.colors||[],sizes:l.sizes||[]}:{name:"",category:"Shoes",price:0,inStock:!0,image:f.products.shoe1,colors:["Black"],sizes:["UK 7"],stockQuantity:0}),x("")},[l,g]);const u=(a,t)=>{r(n=>{const p=n[a]||[],w=p.includes(t);return{...n,[a]:w?p.filter(S=>S!==t):[...p,t]}})},N=a=>{const t=a.target.value;if(t.includes("/folders/")){x("Detection: You pasted a Folder link. Please use a specific Image File link."),r({...s,image:t});return}x("");const n=t.includes("drive.google.com")||t.includes("lh3.googleusercontent.com")?z(t):t;r({...s,image:n})},m=a=>{a.preventDefault(),!i&&(l?y({...l,...s,price:Number(s.price),colors:s.colors||[],sizes:s.sizes||[]}):h({...s,tagline:s.tagline||"Premium Series",description:s.description||"A new addition to the Fario collection.",features:s.features||["Standard Build"],rating:Number(s.rating)||4.5,gender:s.gender||"Unisex",colors:s.colors||["Black"],sizes:s.sizes||["UK 7"],price:Number(s.price)||0,stockQuantity:Number(s.stockQuantity)||0}),j(!1),c())},b=C.div;return e.jsx(A,{children:g&&e.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-end",children:[e.jsx(b,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!d&&c(),className:"absolute inset-0 bg-slate-900/60 backdrop-blur-md"}),e.jsxs(b,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"relative w-full max-w-lg h-full bg-white shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"p-10 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black font-heading text-slate-900 uppercase italic",children:l?"Edit Asset":"New Deployment"}),e.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1",children:"Catalog Configuration"})]}),e.jsx("button",{onClick:c,className:"w-12 h-12 rounded-full hover:bg-gray-50 flex items-center justify-center transition-colors",children:e.jsx(K,{size:24})})]}),e.jsxs("form",{onSubmit:m,className:"p-10 space-y-8 flex-grow overflow-y-auto scrollbar-hide",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Product Name"}),e.jsx("input",{required:!0,value:s.name,onChange:a=>r({...s,name:a.target.value}),className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none transition-all",placeholder:"e.g. Edustep Core"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[e.jsx(L,{size:12})," Asset URL (Drive Link)"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,value:s.image,onChange:N,className:`w-full bg-gray-50 border rounded-2xl px-6 py-4 pl-12 text-sm font-bold focus:ring-2 outline-none transition-all ${i?"border-red-300 focus:ring-red-100":"border-gray-100 focus:ring-fario-purple/5"}`,placeholder:"https://drive.google.com/file/d/..."}),e.jsx(P,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"})]}),i?e.jsxs("p",{className:"text-[10px] font-bold text-red-500 mt-2 flex items-center gap-2 bg-red-50 p-2 rounded-lg",children:[e.jsx(B,{size:14})," ",i]}):e.jsx("p",{className:"text-[9px] font-bold text-gray-400 mt-2 ml-1",children:"Supported: Direct Google Drive file links or hosted URLs."}),s.image&&!i&&e.jsxs("div",{className:"mt-4 w-full h-40 bg-gray-50 rounded-2xl border border-gray-100 flex items-center justify-center overflow-hidden relative",children:[e.jsx("img",{src:s.image,alt:"Preview",className:"h-full object-contain",onError:a=>a.currentTarget.style.display="none"}),e.jsx("span",{className:"absolute bottom-2 right-2 bg-white/80 px-2 py-1 text-[8px] font-bold uppercase rounded tracking-widest backdrop-blur-sm",children:"Preview"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Value (INR)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400 font-bold",children:"â‚¹"}),e.jsx("input",{type:"number",required:!0,value:s.price,onChange:a=>r({...s,price:Number(a.target.value)}),className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 pl-10 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Category"}),e.jsxs("select",{value:s.category,onChange:a=>r({...s,category:a.target.value}),className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none appearance-none",children:[e.jsx("option",{value:"Shoes",children:"Shoes"}),e.jsx("option",{value:"Bags",children:"Bags"}),e.jsx("option",{value:"Accessories",children:"Accessories"}),e.jsx("option",{value:"School Shoes",children:"School Shoes"}),e.jsx("option",{value:"Kids",children:"Kids"}),e.jsx("option",{value:"Socks",children:"Socks"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Gender"}),e.jsxs("select",{value:s.gender||"Unisex",onChange:a=>r({...s,gender:a.target.value}),className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none appearance-none",children:[e.jsx("option",{value:"Unisex",children:"Unisex"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Kids",children:"Kids"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Rating"}),e.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",value:s.rating||4.5,onChange:a=>r({...s,rating:Number(a.target.value)}),className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Tagline"}),e.jsx("input",{value:s.tagline||"",onChange:a=>r({...s,tagline:a.target.value}),className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none",placeholder:"e.g. Resilient. Refined. Essential."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Description"}),e.jsx("textarea",{rows:3,value:s.description||"",onChange:a=>r({...s,description:a.target.value}),className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none resize-none",placeholder:"Product details and highlights..."})]}),e.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-50",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[e.jsx(D,{size:12})," Available Colors"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(a=>e.jsxs("button",{type:"button",onClick:()=>u("colors",a),className:`flex items-center gap-2 px-3 py-2 rounded-xl border-2 transition-all ${(s.colors||[]).includes(a)?"border-fario-purple bg-fario-purple/5 text-fario-purple shadow-sm":"border-gray-100 bg-white text-gray-400 hover:border-gray-200"}`,children:[e.jsx("div",{className:"w-3 h-3 rounded-full border border-gray-200 shadow-sm",style:{backgroundColor:a.toLowerCase()}}),e.jsx("span",{className:"text-[9px] font-bold uppercase tracking-wider",children:a})]},a))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1 flex items-center gap-2",children:[e.jsx(I,{size:12})," Available Sizes"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(a=>e.jsx("button",{type:"button",onClick:()=>u("sizes",a),className:`px-3 py-2 rounded-xl text-[9px] font-bold uppercase tracking-wider border-2 transition-all ${(s.sizes||[]).includes(a)?"bg-fario-dark text-white border-fario-dark shadow-md":"bg-white text-gray-400 border-gray-100 hover:border-gray-200"}`,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:"Stock Quantity"}),e.jsxs("span",{className:"text-[10px] font-bold text-fario-purple",children:[s.stockQuantity||0," Units in Hand"]})]}),e.jsx("input",{type:"number",value:s.stockQuantity,onChange:a=>{const t=Number(a.target.value);r({...s,stockQuantity:t,inStock:t>0})},className:"w-full bg-gray-50 border border-gray-100 rounded-2xl px-6 py-4 text-sm font-bold focus:ring-2 focus:ring-fario-purple/5 outline-none",placeholder:"Enter items available..."})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-50",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:"Inventory Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("button",{type:"button",onClick:()=>r({...s,inStock:!0}),className:`py-4 rounded-2xl text-xs font-black uppercase tracking-widest border transition-all ${s.inStock?"bg-emerald-50 text-emerald-600 border-emerald-200 ring-2 ring-emerald-500/10":"bg-white text-gray-400 border-gray-100 hover:bg-gray-50"}`,children:"In Stock"}),e.jsx("button",{type:"button",onClick:()=>r({...s,inStock:!1}),className:`py-4 rounded-2xl text-xs font-black uppercase tracking-widest border transition-all ${s.inStock?"bg-white text-gray-400 border-gray-100 hover:bg-gray-50":"bg-rose-50 text-rose-600 border-rose-200 ring-2 ring-rose-500/10"}`,children:"Out of Stock"})]})]})]}),e.jsx("div",{className:"p-10 border-t border-gray-100 bg-white",children:e.jsxs("button",{onClick:m,disabled:d||!!i,className:"w-full py-5 bg-fario-dark text-white rounded-[2rem] font-black text-xs uppercase tracking-[0.3em] hover:bg-fario-purple transition-all shadow-xl flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed",children:[d?e.jsx(R,{size:18,className:"animate-spin"}):e.jsx(Q,{size:18}),l?"Update Asset":"Deploy to Catalog"]})})]})]})})};export{E as A};
