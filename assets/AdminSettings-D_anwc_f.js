import{j as e}from"./framer-ClpLoJbl.js";import{r as n}from"./vendor-CSLgDR2_.js";import{s as u,d as h}from"./index-Bn3Kbo31.js";import{u as g}from"./useRealtimeAdmin-BMDEusAS.js";import{G as j,N as v,p as N,aG as y,aH as w,e as k,at as S,C,aE as E}from"./icons-BvlAoJhe.js";import"./supabase-CDGuCRB-.js";const A=()=>{const{logAction:f}=g(),[a,i]=n.useState({storeName:"Fario Store",supportEmail:"support@fario.in",currency:"INR",stripeEnabled:!0,paypalEnabled:!1,freeShippingThreshold:2e3,flatRateShipping:100,taxRate:18,enableMfa:!0,notifyOrder:!0,notifyLowStock:!0,accentColor:"#7a51a0",heroVideo:""}),[p,x]=n.useState(!1),[l,c]=n.useState(null);n.useEffect(()=>{(async()=>{const{data:r}=await u.from("settings").select("*").single();r&&i(d=>({...d,...r}));const o=localStorage.getItem("fario_hero_video");o&&i(d=>({...d,heroVideo:o}))})()},[]);const s=(t,r)=>{i(o=>({...o,[t]:r}))},m=async()=>{x(!0);try{const{error:t}=await u.from("settings").upsert({id:1,...a});if(t)throw t;if(a.heroVideo){const r=h(a.heroVideo);localStorage.setItem("fario_hero_video",r)}document.documentElement.style.setProperty("--fario-accent",a.accentColor),localStorage.setItem("fario_theme_accent",a.accentColor),await f("UPDATE_SETTINGS",a),c({msg:"Settings saved successfully",type:"success"})}catch(t){console.error("Error saving settings:",t),c({msg:"Failed to save settings",type:"error"})}finally{x(!1),setTimeout(()=>c(null),3e3)}},b=[{id:"general",title:"General Store",icon:j,content:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Store Name"}),e.jsx("input",{type:"text",value:a.storeName,onChange:t=>s("storeName",t.target.value),className:"w-full bg-slate-50 border-none rounded-xl font-bold text-slate-900 focus:ring-2 focus:ring-fario-purple/20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Support Email"}),e.jsx("input",{type:"email",value:a.supportEmail,onChange:t=>s("supportEmail",t.target.value),className:"w-full bg-slate-50 border-none rounded-xl font-bold text-slate-900 focus:ring-2 focus:ring-fario-purple/20"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Currency"}),e.jsxs("select",{value:a.currency,onChange:t=>s("currency",t.target.value),className:"w-full bg-slate-50 border-none rounded-xl font-bold text-slate-900 focus:ring-2 focus:ring-fario-purple/20",children:[e.jsx("option",{value:"INR",children:"INR (₹)"}),e.jsx("option",{value:"USD",children:"USD ($)"}),e.jsx("option",{value:"EUR",children:"EUR (€)"})]})]})]})},{id:"payments",title:"Payments",icon:v,content:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900",children:"Stripe Payments"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Enable credit card payments via Stripe."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.stripeEnabled,onChange:t=>s("stripeEnabled",t.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fario-purple/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-fario-purple"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900",children:"PayPal"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Enable PayPal checkout options."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.paypalEnabled,onChange:t=>s("paypalEnabled",t.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fario-purple/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-fario-purple"})]})]})]})},{id:"shipping",title:"Shipping & Tax",icon:N,content:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Flat Rate (₹)"}),e.jsx("input",{type:"number",value:a.flatRateShipping,onChange:t=>s("flatRateShipping",Number(t.target.value)),className:"w-full bg-slate-50 border-none rounded-xl font-bold text-slate-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Free Shipping Over (₹)"}),e.jsx("input",{type:"number",value:a.freeShippingThreshold,onChange:t=>s("freeShippingThreshold",Number(t.target.value)),className:"w-full bg-slate-50 border-none rounded-xl font-bold text-slate-900"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Tax Rate (%)"}),e.jsx("input",{type:"number",value:a.taxRate,onChange:t=>s("taxRate",Number(t.target.value)),className:"w-full bg-slate-50 border-none rounded-xl font-bold text-slate-900"})]})]})},{id:"appearance",title:"Appearance",icon:y,content:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-4",children:"Accent Color"}),e.jsxs("div",{className:"flex gap-4",children:[["#7a51a0","#10b981","#3b82f6","#f43f5e","#f59e0b"].map(t=>e.jsx("button",{onClick:()=>s("accentColor",t),className:`w-10 h-10 rounded-full border-2 transition-all ${a.accentColor===t?"border-slate-900 scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:t}},t)),e.jsx("input",{type:"color",value:a.accentColor,onChange:t=>s("accentColor",t.target.value),className:"w-10 h-10 rounded-full overflow-hidden cursor-pointer border-none"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Hero Video URL"}),e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",value:a.heroVideo,onChange:t=>s("heroVideo",t.target.value),className:"w-full pl-10 bg-slate-50 border-none rounded-xl font-medium text-slate-900 focus:ring-2 focus:ring-fario-purple/20",placeholder:"Paste Google Drive link or direct video URL"})]}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:"Supports Google Drive public links."})]})]})}];return e.jsxs("div",{className:"p-8 space-y-8 animate-in fade-in duration-500 pb-24",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-black text-slate-900 tracking-tight",children:"Store Settings"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Configure store preferences and integrations."})]}),e.jsxs("button",{onClick:m,disabled:p,className:"px-8 py-3 bg-fario-purple text-white rounded-xl text-sm font-bold hover:bg-fario-purple/90 transition-all shadow-lg flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[p?e.jsx(k,{size:18,className:"animate-spin"}):e.jsx(S,{size:18}),e.jsx("span",{children:"Save Changes"})]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-8",children:b.map(t=>e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-slate-50 pb-4",children:[e.jsx("div",{className:"p-2 bg-slate-100 rounded-xl text-slate-600",children:e.jsx(t.icon,{size:20})}),e.jsx("h2",{className:"text-lg font-black text-slate-900",children:t.title})]}),t.content]},t.id))}),l&&e.jsxs("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[200] px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-3 border animate-in slide-in-from-bottom-5 ${l.type==="success"?"bg-slate-900 border-slate-800 text-white":"bg-rose-600 border-rose-500 text-white"}`,children:[l.type==="success"?e.jsx(C,{size:18,className:"text-emerald-400"}):e.jsx(E,{size:18}),e.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:l.msg})]})]})};export{A as default};
