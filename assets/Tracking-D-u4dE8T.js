import{m,j as e,A as g}from"./framer-Bjzrnjch.js";import{r as l}from"./vendor-CSLgDR2_.js";import{o as u}from"./index-D09W92Gl.js";import{aR as f,a0 as b,K as j,ah as N,z as v,r as w}from"./icons-D8yHJv9q.js";import"./supabase-CDGuCRB-.js";const E=()=>{const[c,d]=l.useState([]),[o,x]=l.useState(!0);l.useEffect(()=>{(async()=>{try{const a=(await u.getAllOrders()).filter(r=>r.status!=="Delivered"&&r.status!=="Cancelled");d(a)}catch(s){console.error("Tracking fetch error:",s)}finally{x(!1)}})()},[]);const p=t=>{switch(t){case"Order Placed":return 25;case"Processing":return 50;case"Shipped":return 75;case"Out for Delivery":return 90;case"Delivered":return 100;default:return 10}},h=t=>{const s=new Date(t);return s.setDate(s.getDate()+4),s.toLocaleDateString([],{day:"numeric",month:"short"})},n=m.div;return e.jsxs("div",{className:"space-y-12 pb-20",children:[e.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-start md:items-end gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold font-heading italic tracking-tighter text-deep-teal leading-none mb-3",children:"Node Tracking"}),e.jsx("p",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-orchid",children:"Global Fulfillment Logistics Matrix"})]}),e.jsxs("div",{className:"flex items-center gap-5 px-8 py-4 bg-white border border-glass-border rounded-2xl shadow-luxury transition-all hover:shadow-2xl",children:[e.jsx(f,{size:20,className:"text-orchid animate-pulse"}),e.jsxs("div",{className:"text-left border-l border-slate-100 pl-5",children:[e.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Satellite Uplink"}),e.jsx("p",{className:"text-xs font-black text-deep-teal uppercase",children:"Connected // Stable"})]})]})]}),e.jsx("div",{className:"space-y-10",children:o?e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 animate-pulse",children:[e.jsx(b,{className:"text-orchid animate-spin mb-4",size:48}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-300",children:"Synchronizing nodes..."})]}):c.length===0?e.jsxs("div",{className:"grand-panel py-20 text-center opacity-60",children:[e.jsx(j,{size:64,className:"mx-auto text-slate-100 mb-6"}),e.jsx("h3",{className:"text-2xl font-black italic text-slate-300 uppercase tracking-tighter",children:"All Nodes Delivered"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400 mt-2",children:"Logistics matrix is currently at rest."})]}):e.jsx(g,{children:c.map((t,s)=>{const a=p(t.status);return e.jsxs(n,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:s*.1},className:"grand-panel relative group overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-12 opacity-[0.02] pointer-events-none group-hover:opacity-[0.05] transition-opacity",children:e.jsx(N,{size:240,className:"text-orchid"})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-16 relative z-10",children:[e.jsxs("div",{className:"lg:w-72 border-r border-slate-50 space-y-8 shrink-0",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-[0.4em] mb-3",children:"Manifest ID"}),e.jsxs("h2",{className:"text-3xl font-heading font-black italic text-deep-teal group-hover:text-orchid transition-colors",children:["#",t.id.slice(0,12)]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium mt-1 truncate",children:t.useremail})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-3 text-slate-500",children:[e.jsx(v,{size:16,className:"text-orchid"}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-widest truncate",children:t.shippingaddress||"Hub Storage"})]}),e.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[e.jsx(w,{size:16}),e.jsxs("span",{className:"text-[11px] font-black uppercase tracking-widest",children:["ETA Protocol: ",h(t.createdat)]})]})]}),e.jsx("div",{className:"pt-6 border-t border-slate-50",children:e.jsx("span",{className:`px-5 py-2 rounded-2xl text-[9px] font-black uppercase tracking-[0.3em] shadow-sm ${t.status==="Delivered"?"bg-sage-green/10 text-sage-green border border-sage-green/20":"bg-orchid/10 text-orchid border border-orchid/20"}`,children:t.status})})]}),e.jsxs("div",{className:"flex-grow flex flex-col justify-center",children:[e.jsxs("div",{className:"flex justify-between items-end mb-6 px-2",children:[e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]",children:"Logistics Progress Sequence"}),e.jsxs("span",{className:"text-3xl font-black text-deep-teal italic tracking-tighter",children:[a,"%"]})]}),e.jsx("div",{className:"h-3 bg-slate-50 rounded-full overflow-hidden p-0.5 border border-slate-100 shadow-inner",children:e.jsx(n,{initial:{width:0},whileInView:{width:`${a}%`},transition:{duration:1.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-orchid to-sage-green rounded-full shadow-[0_0_15px_rgba(238,130,238,0.4)]"})}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mt-12",children:["Init Protocol","Hub Transfer","Sort Routing","Final Delivery"].map((r,i)=>e.jsxs("div",{className:`text-center space-y-3 transition-opacity duration-700 ${a>=(i+1)*25?"opacity-100":"opacity-20"}`,children:[e.jsx("div",{className:`w-2.5 h-2.5 rounded-full mx-auto transition-all duration-700 ${a>=(i+1)*25?"bg-orchid shadow-[0_0_10px_#EE82EE] scale-110":"bg-slate-200"}`}),e.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest text-slate-400",children:r})]},i))})]}),e.jsxs("div",{className:"lg:w-64 flex flex-col gap-4 justify-center",children:[e.jsx("button",{onClick:()=>window.location.hash="#/admin/orders",className:"grand-btn btn-orchid-gradient w-full",children:"Update Status"}),e.jsx("button",{className:"grand-btn btn-white-glass w-full",children:"Trace Artifacts"})]})]})]},t.id)})})})]})};export{E as default};
